/* frontend/src/components/DiskExplorer.css */
.disk-explorer-container {
    width: 100%;
    padding: 1rem;
    /* background-color: var(--results-bg-color); */ /* 可以和 initial-view 背景一致或略有不同 */
    border-radius: 8px;
    /* box-shadow: var(--header-box-shadow); */
    animation: fadeInDiskExplorer 0.5s ease-out;
}

@keyframes fadeInDiskExplorer {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

.disk-explorer-title {
    font-size: 1.5em;
    color: var(--app-text-color);
    margin-bottom: 1.5rem;
    text-align: center;
}

.disk-explorer-loading,
.disk-explorer-empty {
    text-align: center;
    padding: 2rem;
    color: var(--text-secondary);
    font-style: italic;
}

.disk-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); /* 响应式列布局 */
    gap: 1.5rem; /* 卡片之间的间距 */
}

.disk-card {
    background-color: var(--bg-secondary); /* 卡片背景 */
    border: 1px solid var(--border-primary, var(--input-border-color));
    border-radius: 8px;
    padding: 1rem;
    cursor: pointer;
    transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
    display: flex;
    flex-direction: column;
    align-items: center; /* 内容居中 */
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}

.disk-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 12px var(--shadow-secondary, rgba(0,0,0,0.1));
}

.disk-card-header {
    display: flex;
    align-items: center;
    width: 100%;
    margin-bottom: 1rem;
}

.disk-icon {
    font-size: 2em; /* 驱动器图标大小 */
    margin-right: 0.75rem;
    color: var(--settings-accent-color); /* 图标颜色 */
}

.disk-name {
    font-size: 1.1em;
    font-weight: 600;
    color: var(--app-text-color);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.disk-pie-chart-container {
    width: 120px; /* 饼图容器大小 */
    height: 120px;
    margin-bottom: 1rem;
    position: relative; /* 用于可能的内部文本定位 */
    display: flex;
    align-items: center;
    justify-content: center;
}

.disk-pie-chart {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    /* background: conic-gradient(...) inlined for dynamic values */
    /* 动画效果：当 used_percent 变化时，背景会平滑过渡 (如果浏览器支持 conic-gradient 过渡) */
    /* 更复杂的动画可能需要 JS + SVG 或 Canvas */
    transition: background 0.5s ease-in-out; /* 尝试过渡背景 */
    position: relative; /* For pseudo-element animation */
    animation: pieGrow 0.7s ease-out forwards; /* 初始加载动画 */
}

@keyframes pieGrow {
    from { transform: scale(0); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

/* (可选) 在饼图中间显示百分比 */
.disk-pie-chart::before {
    content: attr(data-percent); /* 从 data-percent 属性获取文本 */
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 1.2em;
    font-weight: bold;
    color: var(--app-text-color);
}


.disk-info {
    width: 100%;
    text-align: center;
}

.disk-usage-text {
    font-size: 0.85em;
    color: var(--text-secondary);
    margin-bottom: 0.5rem;
}

.disk-progress-bar-container {
    width: 100%;
    background-color: var(--bg-tertiary, #e9ecef);
    border-radius: 4px;
    height: 10px; /* 细一点的进度条 */
    overflow: hidden;
}

.disk-progress-bar {
    height: 100%;
    background-color: var(--settings-accent-color); /* 进度条颜色 */
    border-radius: 4px;
    transition: width 0.7s cubic-bezier(0.25, 0.1, 0.25, 1); /* 平滑的宽度变化动画 */
    /* 初始宽度为0，通过 style 设置实际宽度 */
    width: 0;
    animation: progressBarFill 0.7s 0.3s ease-out forwards; /* 延迟一点开始填充动画 */
}

/* 确保 style 内联的 width 能覆盖这个初始值 */
/* [style*="width"] { animation: none !important; } */ /* 如果动画冲突，可以尝试这个 */


@keyframes progressBarFill {
    /* 这个动画可能不需要了，因为 style.width 会直接设置，transition 会处理动画 */
    /* from { width: 0%; } */
    /* to { width: var(--used-percent-for-anim, 0%); }  -- CSS 变量不能直接用于动画的 to 值 */
}